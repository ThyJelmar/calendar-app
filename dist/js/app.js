"use strict";var SPA=function(e){var n={$domElements:{$buttons:null}},t=function(t){n.$domElements.$buttons=e(t).find(".btn"),r()},r=function(){e(n.$domElements.$buttons).click(function(){SPA.Calender.addEvent("TestEvent","2019-04-25T15:30:00","2019-04-25T16:30:00")})};return{init:function(e){return SPA.Data.init("development"),SPA.Chart.init(e),SPA.Calender.init(e),t(e),console.log(n.$domElements.$buttons),!0},configMap:n}}(jQuery);SPA.Calender=function(e){var n={$calendarContainer:null,$calendar:null,calendarMain:null},t=function(e){alert("Clicked on: "+e.dateStr),alert("Coordinates: "+e.jsEvent.pageX+","+e.jsEvent.pageY),alert("Current view: "+e.view.type)},r=function(e){alert("Event: "+e.event.title),alert("Coordinates: "+e.jsEvent.pageX+","+e.jsEvent.pageY),alert("View: "+e.view.type),e.el.style.borderColor="red"},a=function(){n.calendarMain.render()};return{init:function(e){n.$calendarContainer=e,n.$calendar=document.getElementById("calendar");var a=new Date;return n.calendarMain=new FullCalendar.Calendar(n.$calendar,{plugins:["timeGrid","interaction"],defaultView:"timeGridDay",header:{left:"prev,next today",center:"title",right:"timeGridWeek,timeGridDay"},events:[{title:"The Title",start:"2019-04-25T12:30:00",end:"2019-04-25T14:30:00"}],nowIndicator:!0,now:a.toISOString(),dateClick:function(e){t(e)},eventClick:function(e){r(e)}}),n.calendarMain.render(),!0},configMap:n,addEvent:function(e,t,r){n.calendarMain.addEvent({title:"dynamic event",start:t,end:r}),a()}}}(jQuery),SPA.Chart=function(e){var n={$chartContainer:null};return{init:function(e){return console.log("succes loaded init"),n.$chartContainer=e,!0},showPieChart:function(e,n){console.log("test")}}}(jQuery),SPA.Data=function(e){var n={environment:"development",host:"https://localhost/api/",endPoints:{calender:"calender/",addAppointment:"calender/addAppointment",addRule:"calender/addRule"}};return{init:function(e){return n.environment=e,!0},getCalender:function(t,r){return new Promise(function(a,o){e.ajax({url:n.host+n.endPoints.calender+"?startDate="+t+"&endDate="+r,method:"GET",success:function(e){a({name:"load_calender",response:e})},error:function(e){o({name:"load_calender",response:e})}})})},addAppointment:function(t,r){return new Promise(function(a,o){e.ajax({url:n.host+n.endPoints.calender+"?startDate="+t+"&endDate="+r,method:"POST",dataType:"json",contentType:"application/json; charset=utf-8",data:JSON.stringify({startDate:t,endDate:r}),success:function(e){console.log(e),"error"!=e.type.toLowerCase()?a({name:"setmove",response:e}):o(SPA.Feedback.toonErrorBericht(e.message))},error:function(e){console.log("error: "+jqXHR.responseText),SPA.Feedback.toonErrorBericht(e),o({name:"setmove",response:e})}})})}}}(jQuery);